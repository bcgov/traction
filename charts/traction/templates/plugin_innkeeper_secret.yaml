{{- if not .Values.ui.pluginInnkeeper.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ include "traction.acapy.plugin.innkeeper.name" . }}
  labels:
    {{- include "common.labels" . | nindent 4 }}
type: Opaque
data:
  INNKEEPER_WALLET_TENANT_ID: {{ include "getOrGenerateUUID" (dict "Name" (include "traction.acapy.plugin.innkeeper.name" .) "Key" "tenantid" "Namespace" .Release.Namespace "Kind" "Secret") }}
  INNKEEPER_WALLET_WALLET_KEY: {{ include "getOrGeneratePass" (dict "Length" 32 "Name" (include "traction.acapy.plugin.innkeeper.name" .) "Key" "walletkey" "Namespace" .Release.Namespace "Kind" "Secret") }}
{{- end }}
